C51 COMPILER V9.00   12864                                                                 09/14/2016 16:44:16 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE 12864
OBJECT MODULE PLACED IN ..\output\12864.obj
COMPILER INVOKED BY: C:\Keil_v4\C51\BIN\C51.EXE ..\src\12864.c BROWSE DEBUG OBJECTEXTEND PRINT(.\12864.lst) OBJECT(..\ou
                    -tput\12864.obj)

line level    source

   1          #include <reg52.h>
   2          #include <12864.h>
*** WARNING C318 IN LINE 2 OF ..\src\12864.c: can't open file '12864.h'
   3          #include <string.h>
   4          
   5          #define uchar unsigned char
   6          #define uint  unsigned int
   7          
   8          uchar code IC_DAT[];
   9          uchar code pic1[];
  10          uchar code pic2[];
  11          uchar code pic3[]; 
  12          
  13          sbit RS  = P0^7;
  14          sbit WRD = P0^6;
  15          sbit E   = P0^5;
  16          sbit PSB = P0^4;
  17          sbit RES = P0^3;
  18          
  19          void TransferData(char data1,bit DI);
  20          void display(void);
  21          void display_grapic(void);
  22          void delayms(uint n);
  23          void DisplayLine(uchar line1,uchar line2);
  24          void DisplayGraphic(uchar code *adder);
  25          void delay(uint m);
  26          void lcd_mesg(uchar code *adder1);
  27          
  28          uchar code IC_DAT[]={
  29          "     HOT-51     "  
  30          "                "
  31          "  单片机开发板  "
  32          "    雁凌电子    "
  33          };
  34          
  35          uchar code IC_DAT2[]={
  36          "  很不错  有点意思，  "                        //0x80
  37          "  欲穷千里目，  "                      //0x90
  38          "  黄河入海流。  "                      //0x88
  39          "  更上一层楼。  "                      //0x98
  40          };
  41          
  42          
  43          unsigned char Convert(unsigned char In_Date)
  44          {
  45   1          unsigned char i, Out_Date = 0, temp = 0;
  46   1          for(i=0; i<8; i++)
  47   1          {
  48   2                      Out_Date=  In_Date;
  49   2          }
  50   1          return Out_Date;
  51   1      }
  52          
  53          void initinal(void)           //LCD字库初始化程序
C51 COMPILER V9.00   12864                                                                 09/14/2016 16:44:16 PAGE 2   

  54          {
  55   1                 delay(40);             //大于40MS的延时程序
  56   1                 PSB=1;                 //设置为8BIT并口工作模式
  57   1                 delay(1);              //延时
  58   1                 RES=0;                 //复位
  59   1                 delay(1);              //延时
  60   1                 RES=1;                 //复位置高
  61   1                 delay(10);
  62   1                 TransferData(0x30,0);  //Extended Function Set :8BIT设置,RE=0: basic instruction set, G=0 :grap
             -hic display OFF
  63   1                 delay(100);            //大于100uS的延时程序
  64   1                 TransferData(0x30,0);  //Function Set
  65   1                 delay(37);             ////大于37uS的延时程序
  66   1                 TransferData(0x08,0);  //Display on Control
  67   1                 delay(100);            //大于100uS的延时程序
  68   1                 TransferData(0x10,0);  //Cursor Display Control光标设置
  69   1                 delay(100);            //大于100uS的延时程序
  70   1                 TransferData(0x0C,0);  //Display Control,D=1,显示开
  71   1                 delay(100);            //大于100uS的延时程序
  72   1                 TransferData(0x01,0);  //Display Clear
  73   1                 delay(10);             //大于10mS的延时程序
  74   1                 TransferData(0x06,0);  //Enry Mode Set,光标从右向左加1位移动
  75   1                 delay(100);            //大于100uS的延时程序
  76   1      }
  77          
  78          /********************************************************************
  79          * 名称 : Main()
  80          * 功能 : 主函数
  81          * 输入 : 无
  82          * 输出 : 无
  83          ***********************************************************************/
  84          void   initina2(void)           //LCD显示图片(扩展)初始化程序
  85          {
  86   1                 delay(40);             //大于40MS的延时程序
  87   1                 PSB=1;                 //设置为8BIT并口工作模式
  88   1                 delay(1);              //延时
  89   1                 RES=0;                 //复位
  90   1                 delay(1);              //延时
  91   1                 RES=1;                 //复位置高
  92   1                 delay(10);
  93   1      
  94   1                 TransferData(0x36,0);  //Extended Function Set RE=1: extended instruction
  95   1                 delay(100);            //大于100uS的延时程序
  96   1                 TransferData(0x36,0);  //Extended Function Set:RE=1: extended instruction set
  97   1                 delay(37);             ////大于37uS的延时程序
  98   1                 TransferData(0x3E,0);  //EXFUNCTION(DL=8BITS,RE=1,G=1)
  99   1                 delay(100);            //大于100uS的延时程序
 100   1                 TransferData(0x01,0);  //CLEAR SCREEN
 101   1                 delay(100);            //大于100uS的延时程序
 102   1      }
 103          
 104          /********************************************************************
 105          * 名称 : Main()
 106          * 功能 : 主函数
 107          * 输入 : 无
 108          * 输出 : 无
 109          ***********************************************************************/
 110          void    ok(void)
 111          {
 112   1               while(1)
 113   1                  {
 114   2                        initina2();            //调用LCD显示图片(扩展)初始化程序
C51 COMPILER V9.00   12864                                                                 09/14/2016 16:44:16 PAGE 3   

 115   2        
 116   2                DisplayGraphic(pic2);  //显示图片2
 117   2                delayms(200);                   
 118   2      
 119   2                initinal();                    //调用LCD字库初始化程序
 120   2                delay(100);            //大于100uS的延时程序
 121   2                lcd_mesg(IC_DAT);      //显示中文汉字1
 122   2                delayms(240);
 123   2                delayms(240);
 124   2                
 125   2                initinal();                    //调用LCD字库初始化程序
 126   2                delay(100);            //大于100uS的延时程序 
 127   2                lcd_mesg(IC_DAT2);     //显示中文汉字2
 128   2                delayms(240);
 129   2                        delayms(240);
 130   2                        initinal();  
 131   2              }
 132   1      }
 133          
 134          /********************************************************************
 135          * 名称 : Main()
 136          * 功能 : 主函数
 137          * 输入 : 无
 138          * 输出 : 无
 139          ***********************************************************************/
 140          void   lcd_mesg(unsigned char code *adder1)
 141          {
 142   1              unsigned char i;
 143   1          TransferData(0x80,0);  //Set Graphic Display RAM Address
 144   1          delay(100);
 145   1              for(i=0;i<32;i++)
 146   1              {
 147   2                      TransferData(*adder1,1);
 148   2                      adder1++;
 149   2              }
 150   1      
 151   1          TransferData(0x90,0);  //Set Graphic Display RAM Address
 152   1          delay(100);
 153   1              for(i=32;i<64;i++)
 154   1              {
 155   2                      TransferData(*adder1,1);
 156   2                      adder1++;
 157   2              }
 158   1      }
 159          
 160          /********************************************************************
 161          * 名称 : Main()
 162          * 功能 : 主函数
 163          * 输入 : 无
 164          * 输出 : 无
 165          ***********************************************************************/
 166          void    TransferData(char data1,bit DI)  //传送数据或者命令,当DI=0是,传送命令,当DI=1,传送数据.
 167          {
 168   1             WRD=0;
 169   1             RS=DI;
 170   1             delay(1);
 171   1             P2=Convert(data1);
 172   1             E=1;
 173   1             delay(1);
 174   1             E=0;
 175   1      }
 176          
C51 COMPILER V9.00   12864                                                                 09/14/2016 16:44:16 PAGE 4   

 177          /********************************************************************
 178          * 名称 : Main()
 179          * 功能 : 主函数
 180          * 输入 : 无
 181          * 输出 : 无
 182          ***********************************************************************/
 183          void    delayms(unsigned int n)            //延时10×n毫秒程序
 184          {
 185   1             unsigned int i,j;
 186   1             for(i=0;i<n;i++)
 187   1             for(j=0;j<2000;j++);
 188   1      }
 189          
 190          /********************************************************************
 191          * 名称 : Main()
 192          * 功能 : 主函数
 193          * 输入 : 无
 194          * 输出 : 无
 195          ***********************************************************************/
 196          void    delay(unsigned int m)            //延时程序
 197          {
 198   1            unsigned int i,j;
 199   1            for(i=0;i<m;i++)
 200   1            for(j=0;j<10;j++);
 201   1      }
 202          
 203          /********************************************************************
 204          * 名称 : Main()
 205          * 功能 : 主函数
 206          * 输入 : 无
 207          * 输出 : 无
 208          ***********************************************************************/
 209          void DisplayGraphic(unsigned char code *adder)
 210          {
 211   1      
 212   1         int i,j;
 213   1      //*******显示上半屏内容设置
 214   1         for(i=0;i<32;i++)              //
 215   1          { 
 216   2            TransferData((0x80 + i),0); //SET  垂直地址 VERTICAL ADD
 217   2            TransferData(0x80,0);       //SET  水平地址 HORIZONTAL ADD
 218   2            for(j=0;j<16;j++)
 219   2             {
 220   3               TransferData(*adder,1);
 221   3               adder++;
 222   3             }
 223   2          }      
 224   1      //*******显示下半屏内容设置
 225   1         for(i=0;i<32;i++)              //
 226   1          {
 227   2            TransferData((0x80 + i),0); //SET 垂直地址 VERTICAL ADD
 228   2            TransferData(0x88,0);       //SET 水平地址 HORIZONTAL ADD
 229   2            for(j=0;j<16;j++)
 230   2             {
 231   3               TransferData(*adder,1);
 232   3               adder++;
 233   3             }
 234   2          }
 235   1      }
 236          
 237          
 238          
C51 COMPILER V9.00   12864                                                                 09/14/2016 16:44:16 PAGE 5   

 239          unsigned char code pic2[]=
 240          {
 241          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x78,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 242          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x1E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 243          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0x07,0x80,0x00,0x00,0x00,0x00,0x00,0x00,
 244          0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xC0,0x01,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,
 245          0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x00,0x00,0x78,0x00,0x00,0x00,0x00,0x00,0x00,
 246          0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x00,0x00,0x1E,0x00,0x00,0x00,0x00,0x00,0x00,
 247          0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0x00,0x00,0x07,0x80,0x00,0x00,0x00,0x00,0x00,
 248          0x00,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x01,0xC0,0x00,0x00,0x00,0x00,0x00,
 249          0x00,0x00,0x00,0x00,0x00,0x0F,0x00,0x00,0x00,0x00,0x70,0x00,0x00,0x00,0x00,0x00,
 250          0x00,0x00,0x00,0x00,0x00,0x3C,0x00,0x00,0x00,0x00,0x1C,0x00,0x00,0x00,0x00,0x00,
 251          0x00,0x00,0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x1E,0x00,0x00,0x00,0x00,0x00,
 252          0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,0x7E,0x00,0x00,0x00,0x00,0x00,
 253          0x00,0x00,0x00,0x00,0x0F,0x00,0x00,0x00,0x00,0x01,0xE6,0x00,0x00,0x00,0x00,0x00,
 254          0x00,0x00,0x00,0x00,0x3C,0x00,0x00,0x00,0x00,0x07,0x82,0x00,0x00,0x00,0x00,0x00,
 255          0x00,0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x1E,0x02,0x00,0x00,0x00,0x00,0x00,
 256          0x00,0x00,0x00,0x01,0xE0,0x00,0x00,0x00,0x00,0x78,0x03,0x00,0x00,0x00,0x00,0x00,
 257          0x00,0x00,0x00,0x01,0xE0,0x00,0x00,0x00,0x01,0xE0,0x03,0x00,0x00,0x00,0x00,0x00,
 258          0x00,0x00,0x00,0x01,0x78,0x00,0x00,0x00,0x07,0x80,0x01,0x00,0x00,0x00,0x00,0x00,
 259          0x00,0x00,0x00,0x03,0x1E,0x00,0x00,0x00,0x1E,0x00,0x07,0x00,0x00,0x00,0x00,0x00,
 260          0x00,0x00,0x00,0x03,0x07,0x80,0x00,0x00,0x78,0x00,0x1F,0x00,0x00,0x00,0x00,0x00,
 261          0x00,0x00,0x00,0x02,0x01,0xE0,0x00,0x01,0xE0,0x00,0x3F,0x00,0x00,0x00,0x00,0x00,
 262          0x00,0x00,0x00,0x06,0x00,0x78,0x1F,0x07,0x80,0x01,0xF1,0x80,0x00,0x00,0x00,0x00,
 263          0x00,0x00,0x00,0x0E,0x00,0x1E,0x3F,0x9E,0x00,0x03,0xF9,0x80,0x00,0x00,0x00,0x00,
 264          0x00,0x00,0x00,0x0E,0x00,0x07,0xB3,0x78,0x00,0x0F,0xF9,0x80,0x00,0x00,0x00,0x00,
 265          0x00,0x00,0x00,0x0F,0x80,0x01,0xFF,0xE0,0x00,0x79,0x98,0x80,0x00,0x00,0x00,0x00,
 266          0x00,0x00,0x00,0x0F,0xE0,0x00,0x7F,0x80,0x00,0xE0,0xD8,0x80,0x00,0x00,0x00,0x00,
 267          0x00,0x00,0x00,0x0F,0xF8,0x00,0x0C,0x00,0x07,0xE0,0xF8,0x80,0x00,0x00,0x00,0x00,
 268          0x00,0x00,0x00,0x0E,0x7E,0x00,0x0C,0x00,0x1F,0xF0,0xF8,0x80,0x00,0x00,0x00,0x00,
 269          0x00,0x00,0x00,0x0E,0x1F,0x80,0x0C,0x00,0x7E,0x70,0xDC,0x80,0x00,0x00,0x00,0x00,
 270          0x00,0x00,0x00,0x0F,0x07,0xE0,0x0C,0x01,0xE3,0x70,0x5C,0xC0,0x00,0x00,0x00,0x00,
 271          0x00,0x00,0x00,0x0F,0x81,0xF8,0x0C,0x07,0x83,0x70,0x5F,0xC0,0x00,0x00,0x00,0x00,
 272          0x00,0x00,0x00,0x0D,0xE0,0x7E,0x0C,0x1F,0xC1,0xF0,0x5F,0xC0,0x00,0x00,0x00,0x00,
 273          0x00,0x00,0x00,0x0F,0x78,0x3F,0x8C,0x7F,0xC1,0xB8,0x47,0xC0,0x00,0x00,0x00,0x00,
 274          0x00,0x00,0x00,0x0F,0x1E,0x0F,0xED,0xEC,0xE1,0xB8,0xC7,0xC0,0x00,0x00,0x00,0x00,
 275          0x00,0x00,0x00,0x1F,0x07,0x83,0xFF,0xC6,0xE1,0xB9,0xC7,0xC0,0x00,0x00,0x00,0x00,
 276          0x00,0x00,0x00,0x1F,0x07,0xE0,0xFF,0xE7,0xE1,0xBF,0x07,0xC0,0x00,0x00,0x00,0x00,
 277          0x00,0x00,0x00,0x1F,0x07,0xF8,0x3F,0xE7,0xE1,0xBF,0x07,0xC0,0x00,0x00,0x00,0x00,
 278          0x00,0x00,0x00,0x1F,0x07,0x9E,0x0C,0xE6,0xE1,0x8F,0x07,0xC0,0x00,0x00,0x00,0x00,
 279          0x00,0x00,0x00,0x1F,0x07,0x87,0x8C,0xE6,0xE3,0x8F,0x83,0xC0,0x00,0x00,0x00,0x00,
 280          0x00,0x00,0x00,0x1F,0x0F,0x81,0xED,0xE6,0xE7,0x0F,0x83,0xC0,0x00,0x00,0x00,0x00,
 281          0x00,0x00,0x00,0x1F,0x07,0x00,0x7F,0xE6,0xFE,0x0F,0x83,0x40,0x00,0x00,0x00,0x00,
 282          0x00,0x00,0x00,0x1F,0x00,0x00,0x1E,0x76,0xFE,0x0F,0x83,0x40,0x00,0x00,0x00,0x00,
 283          0x00,0x00,0x00,0x1E,0x00,0x00,0x00,0x72,0x1E,0x0F,0x83,0x40,0x00,0x00,0x00,0x00,
 284          0x00,0x00,0x00,0x1E,0x00,0x00,0x00,0x7E,0x1A,0x0F,0x83,0x40,0x00,0x00,0x00,0x00,
 285          0x00,0x00,0x00,0x1E,0x00,0x00,0x00,0x7C,0x1A,0x0F,0x83,0xC0,0x00,0x00,0x00,0x00,
 286          0x00,0x00,0x00,0x0C,0x00,0x00,0x00,0x78,0x1A,0x0F,0x83,0xC0,0x00,0x00,0x00,0x00,
 287          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x1A,0x07,0x83,0xC0,0x00,0x00,0x00,0x00,
 288          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x1E,0x07,0x80,0x00,0x00,0x00,0x00,0x00,
 289          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x1F,0x07,0x80,0x00,0x00,0x00,0x00,0x00,
 290          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x1F,0x07,0x80,0x00,0x00,0x00,0x00,0x00,
 291          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x1F,0x07,0x80,0x00,0x00,0x00,0x00,0x00,
 292          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x1F,0x07,0x00,0x00,0x00,0x00,0x00,0x00,
 293          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x1F,0x00,0x00,0x00,0x00,0x08,0x00,0x00,
 294          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x1F,0x00,0x00,0x00,0x00,0x10,0x00,0x40,
 295          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x1F,0x00,0x00,0x00,0x00,0xFF,0x08,0x20,
 296          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x1F,0x00,0x00,0x00,0x00,0x28,0x05,0xFC,
 297          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x34,0x0C,0x00,0x00,0x00,0x00,0x48,0x00,0x40,
 298          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x34,0x00,0x00,0x00,0x00,0x00,0xFF,0x08,0x88,
 299          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x34,0x00,0x00,0x00,0x00,0x00,0x08,0x05,0xFC,
 300          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x00,0x00,0x00,0x00,0x00,0x4A,0x00,0xA8,
C51 COMPILER V9.00   12864                                                                 09/14/2016 16:44:16 PAGE 6   

 301          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x00,0x00,0x00,0x00,0x00,0x89,0x04,0xA8,
 302          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x00,0x00,0x00,0x00,0x01,0x08,0x88,0xA8,
 303          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x10,0xAA,
 304          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x01,0x2E,
 305          
 306          };


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    628    ----
   CONSTANT SIZE    =   1160    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      11
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
